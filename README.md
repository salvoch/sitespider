# sitespider
Static site generator for python. Tool for creating quick and customizable personal websites from .md files

## Files in structure

1. index.md - the home page, will be templated with headers/footers/categories/etc
2. config.yml - optional - additional options for site, such as styles
   1. _TODO: Can this be generated by sitespider? ie: sitespider generate\_config_
3. categories - directory with directories of categories
   1. Individual posts to be converted to posts
      1. _TODO: how do we sort these, by date? By title index eg: 1-post.md_
4. images - directory with sub directories for images
   1. _TODO: How do we avoid conflicts between images from different posts_

## Input structure

There are three different ways I can think of that would _describe_ the user's intentions for how their website will be structured.

### 1. Let the folder structure describe the structure

A user will structure their notes in the following example layout. The index will be in the root directory, but directories inside a main `categories` directory will specify the user's intended categories and layouts. The order of the posts will be by file creation date

```
├── config.yml
├── index.md
├── categories
│   ├── aws
│   │   ├── doingthingsinaws.md
│   │   └── someOtherStuff.md
│   ├── haskell
│   │   └── learningHaskell.md
│   └── python
│       ├── making_a_static_site.md
│       ├── dataclasses.md
│       └── someOtherThing.md
└── images
    ├── aws
    ├── haskell
    │   ├── 1-cat.jpg
    │   └── 2-doc.jpg
    └── python
        ├── 1-pic1.jpg
        ├── 1-pic2.jpg
        ├── 2-pic1.jpg
        ├── 3-pic1.jpg
        ├── 3-pic2.jpg
        └── 3-pic3.jpg
```

**Pros:** 

* No need to mess with config files or format the .md files in any specific way
* Simple and organized
* If you are already organizing your notes in this way, it'll be trivial to switch over
* Easy to specify where images are placed

**Cons:**

* Force user to use a structure they might not like
* If you're not organizing your notes this way already, and have a system that works for you, this might be painstaking and annoying to swtich to
* Diffiuclt to specify post order in this way, since it's done by date 
* Need to be organized from the beginning
* `.md` files (other than `index.md`) that are in the root will be ignored, maybe not the intended behavior, could raise warning?
* Could have conflicts with images if two different posts in one category use the same image name (eg. `img.jpg`)

### 2. Describe site structure through the config.yml

A user could specify very explicitly what the structure of their site shall be through a config.yml. With this solution the file structure is not important. In other solutions, you'd still have a config.yml, but this would specifcy optional things, like style.

A user could generate a blank config file by running a command like `sitespider generate_config`, to make it easier for users.

Example config.yml:

```yaml
- index: index.md
- categories:
    - aws:
        - doingthingsinaws.md
        - someOtherStuff.md
    - haskell:
        - learningHaskell.md
    - python:
        - making_a_static_site.md
        - dataclasses.md
        - someOtherThing.md
- style: dark

```

**Pros:** 

* Users will have more control over structure and order
* A user's notes don't have to be organized in any particular way, easy to port over existing structure to fit this

**Cons:**

* Logic for finding/placing images will be more complex on dev end
* Must have logic for finding actual files, what if they are nested in directories?
  * Do we force the user to use the full extension name? Could get long and overly-configury?
  * Or just have python "search" for a matching file name in all project directories, could have conficts?
* If you mispell a name, how do we handle that? Error/warning?

### 3. Have a header in the files describing what that file belongs to.

In the `.md` files themselves, have a secton at the top describing what the file is. This will then get placed in its correct place.

Example

```md
---
date: 07/07/2023
title: Understanding things
category: Haskell
---

(... actual notes begin here...)
```

**Pros:**

* Very explicit way of denoting date and category
* Could expand to more options

**Cons:**

* Having to append all your notes with this is annoying
* Nah this way sucks I don't like it

### Maybe have the option of a couple?

At least options one and two could be cool, however this will be a lot more dev time.

## Output structure

Regardless of which method will be implemented, after running `sitespider weave` on directory, the output should look as follows

```
├── index.html
├── categories
│   ├── aws
│   │   ├── 1-doingthingsinaws.html
│   │   ├── 2-someOtherStuff.html
│   │   └── index.html
│   ├── haskell
│   │   ├── 1-learningHaskell.html
│   │   └── index.html
│   └── python
│       ├── 1-making_a_static_site.html
│       ├── 2-dataclasses.html
│       ├── 3-someOtherThing.html
│       └── index.html
├── images
│   ├── 0-cat.jpg
│   ├── 0-pic1.jpg
│   ├── aws
│   ├── haskell
│   │   ├── 1-cat.pic
│   │   └── 1-doc.pic
│   └── python
│       ├── 1-pic1.jpg
│       ├── 1-pic2.jpg
│       ├── 2-pic1.jpg
│       ├── 3-pic1.jpg
│       ├── 3-pic2.jpg
│       └── 3-pic3.jpg
├── scripts
│   └── scirps.js
└── styles
    ├── dark.css
    └── light.css
```

Full structure for a website!!

Note: A generic index.html will be created for each category, this will be the page which displays all posts under a category

## Images

How to handle images? I noticed the pandoc library correctly identifies the `![img](path)` markdown image as an `image` object within the
parsed structure. Do we scan for these objects, find that file, rename it, place it in its intended location, and change the reference?

Also note, the keyword for images is the same for local images and web images, have to distinguish between both
